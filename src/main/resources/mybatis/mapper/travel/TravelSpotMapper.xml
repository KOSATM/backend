<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.mapper.TravelSpotMapper">

  <select id="selectTravelSpotById" resultType="com.example.demo.dto.travel.TravelSpotDto">
    SELECT id, day_id, title, start_at_utc, end_at_utc, place_name, address, lat, lng, cost
    FROM travel_spot WHERE id = #{id}
  </select>

  <insert id="insertTravelSpot" parameterType="com.example.demo.dto.travel.TravelSpotDto" useGeneratedKeys="true" keyProperty="id" keyColumn="id">
    INSERT INTO travel_spot (day_id, title, start_at_utc, end_at_utc, place_name, address, lat, lng, cost)
    VALUES (#{dayId}, #{title}, #{startAtUtc}, #{endAtUtc}, #{placeName}, #{address}, #{lat}, #{lng}, #{cost})
  </insert>

  <update id="updateTravelSpot" parameterType="com.example.demo.dto.travel.TravelSpotDto">
    UPDATE travel_spot
    SET day_id = #{dayId}, title = #{title}, start_at_utc = #{startAtUtc}, end_at_utc = #{endAtUtc},
        place_name = #{placeName}, address = #{address}, lat = #{lat}, lng = #{lng}, cost = #{cost}
    WHERE id = #{id}
  </update>

  <delete id="deleteTravelSpotById" parameterType="long">
    DELETE FROM travel_spot WHERE id = #{id}
  </delete>

</mapper>
